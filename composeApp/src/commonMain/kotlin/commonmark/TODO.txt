Rewrite CommonMark using Kotlin to ensure compatibility across all platforms.